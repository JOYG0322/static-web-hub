<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>JiBaJiBa v4.3 优化版（更新）</title>
    <link rel="icon" type="image/png" href="../assets/icon.png">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="css/jiBaJiBa.css">
</head>
<body>
    <div class="container">
        <div class="title_"><img src="../assets/icon.png" alt="logo">JiBaJiBa</div>
    </div>

    <div class="main_">
        <div class="videoContainer" aria-live="polite">
            <video id="remoteVideo" autoplay playsinline muted controls></video>
            <div id="status" class="status">未连接</div>
            <div class="controls" role="toolbar">
                <button class="button_l" id="refreshBtn">刷新</button>
                <button class="button_l" id="disconnectBtn">断开</button>
                <button class="button_l" id="fullscreenBtn">网页全屏</button>
                <button class="button_l" id="reconnectConfigBtn">自动重连配置</button>
                <select id="serverSelect" class="server-select" title="选择服务器">
                    <option value="10.126.126.15">10.126.126.15</option>
                </select>
            </div>
        </div>

        <div class="buttons" id="channelList">
            <div class="section-title">预设频道</div>
            <div id="presetContainer" aria-label="预设频道"></div>
            <div class="search_">
                <input id="roomInput" type="text" placeholder="输入房间号" class="text_enter" aria-label="房间号">
                <button class="button_s" id="connectBtn">连接</button>
            </div>
            <div class="section-title-row">
                <div class="section-title">历史记录</div>
                <button class="clear-history-btn" id="clearHistoryBtn">全部删除</button>
            </div>
            <div id="historyContainer" aria-label="历史记录"></div>
        </div>
    </div>

    <div class="modal-overlay" id="reconnectModal">
        <div class="modal-box">
            <div class="modal-title">
                <span>自动重连配置</span>
                <button class="modal-close" id="modalClose">&times;</button>
            </div>
            <div class="modal-row">
                <label class="modal-label">最大重连次数</label>
                <input type="number" class="modal-input" id="inputMaxAttempts" min="1" max="20" value="5">
                <span class="modal-hint">次</span>
            </div>
            <div class="modal-row">
                <label class="modal-label">初始重连延迟</label>
                <input type="number" class="modal-input" id="inputReconnectDelay" min="500" max="10000" step="500" value="1000">
                <span class="modal-hint">毫秒</span>
            </div>
            <div class="modal-row">
                <label class="modal-label">最大重连延迟</label>
                <input type="number" class="modal-input" id="inputMaxDelay" min="5000" max="120000" step="5000" value="30000">
                <span class="modal-hint">毫秒</span>
            </div>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-cancel" id="modalCancel">取消</button>
                <button class="modal-btn modal-btn-save" id="modalSave">保存</button>
            </div>
        </div>
    </div>

    <script src="adapter.js"></script>
    <script src="js/jiBaJiBa.js"></script>
</body>
</html>
